- name: conditioned_dca
  version: 0.2
  wallet:
    address: $WORKFLOW_WALLET
    type: local
  steps:
    - name: swap
      module: dex
      method: swap
      arguments:
          tokenInAddress: $SELL_TOKEN
          tokenInAmount: $SELL_AMOUNT
          tokenOutAddress: $BUY_TOKEN
          name: uniswap
          network: $WORKFLOW_NETWORK
          receiverAddress: $WORKFLOW_WALLET
      trigger:
          name: daily_schedule
          type: periodic
          interval: daily
          value: 
            function: priceOf
            value: $BUY_TOKEN
          condition:
            op: lessThan
            value: $MIN_TOKEN_PRICE